# PHWhat?
A PHP Security project that renders all PHP arbitrary code execution unexploitable. It's very conceptually simple, it iterates through the entire PHP source hierarchy and changes every function/method to a different (arbitrary generated) value. This method doesn't have any effect on PHP's performance, nor does it promote writing insecure code. It simply elimates the leverage of all PHP source code execution, and will be taken many steps further in the new future.

# Implementation
1. Compile and run the PHWhat program to completely obscure PHPs functions and methods and build PHP
2. Get/Write regular, php code with which you wish to implement
3. Use the PHWhat translator to correlate your codes functions with the arbitrarily generated function calls. It's analogous to compiling a C program, as before it is ran through the translator, nearly all of it will be complete nonsense to your interpreter.
4. Now whenever an attacker finds a vulnerability which allows PHP code execution, it will be rendered useless, as your obscurred php build doesn't have the ability to interpret his PHP function calls, or anything of the sort.
 

# The Punchline
This concept of each server having its unique build of PHP is somewhat new to the security world, but I think it is highly underrated. Arbitrary PHP code execution is can be very vicious, but not as common as it once was. How about another idea? What about obscurring PHP's interface to, sqlite, for example (yes, it's possible). An SQLi vulernability couldn't lead to an extraction of any data anymore. Okay, well this wouldn't stop the good ol' OR1=1, but even that could be stopped if you were willing to risk a minimally longer execution time.

Sorry it may seem like I'm just rambling at this point, I've got more than a handful of ideas to where this project could go. The main point I'm trying to get across is people will always write vulnerable code somewhere, but most of these problems can be fixed from the PHP source hierarchy itself, many (or all) without having even the slightest on its performance. 

# Usage
Unfortunately, the project is not entirely finished. It must be compiled --without-pear, and --disable-phar, as PHAR has a few very complicating files. I've added a semi-temporary fix too it which has been commented out, but even that is not fully functional so if you'd like to give it a shot you'd be more than obliged. It's also not been fully tested, fortunately however, I have yet to run into any problems with the obscurred functions themselves.

1. Compile the program with g++ -o PHWhat *.cpp -std=c++11
2. ./Configure your PHP source so PHWhat can use some generated files
3.  -i.e. ./Configure --without-pear --disable-phar --with-apxs2=/usr/bin/apxs2 --enable-calendar ...
4. Run the Program ./PHWhat /(directorytophpsource)/php true/false
    -The second argument commends on whether to enable the backtick operator or not.
5.Build your PHP source ( sudo make; sudo make install) 
6.Your PHP build is now fully obscurred, the only thing left to do is correlate your files 

Compile PHWhat translator, run with ./PHWhatTranslator /pathtophpfile /pathtoRandomname.txt <- Generated by PHWhat.
  - Your php source should now be fully cooperative with your obscurred php build, and your code is ready to execute.

# Conclusion 
Whether you love the project, hate it, or even found it interesting please give me feedback at involution124@gmail.com. I'd love to hear all your ideas/criticism. The code is still a bit ugly, which I could use some help. However it was originally written as a POC, I really wasn't expecting a release of anything of the sort, in my defense ;)
